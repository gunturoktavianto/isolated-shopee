"use strict";(("undefined"!=typeof self?self:this).webpackChunkshopee_pc=("undefined"!=typeof self?self:this).webpackChunkshopee_pc||[]).push([[9211],{1729:function(e,t,i){i.d(t,{DV:function(){return Ct}});var r,n,a,o,s,c,l,p,u,d,h,f,v,m,g,y,_,w,b,R,k,x=i(74545),A=i(32293),C=i(65858),H="device_sz_fingerprint",P="sz-token",S="af-ac-enc-sz-token",E="x-sz-sdk-version",T="d-nonptcha-sync",F="/verify/traffic",U="/verify/traffic/error",O="/buyer/login",I={onInit:function(){},onComplete:function(){},onFail:function(){},onTimeout:function(){}},L=((a={})[(n=re)(0)]=I,a[n(1)]=I,a.hookFUFetch=I,a.hookFUXhr=I,a),D={test:"90a081b48a9c87345189bda87a989d23",uat:"5a733eaa4e1df48aa36fd9316f093107",staging:"d9dd212362d63e8ddb085bb5bce5259f",stable:"dc6fe70845cb784460ead6c7fd76bb91",live:"f9ffc83459897a13dd14c537e84b1753"},M=((r={}).env={test:"test.",stable:"test-stable.",staging:"staging.",liveish:"live-test.",live:"",uat:"uat."},r.cid={SG:"sg",TW:"xiapi",MY:"my",PH:"ph",TH:"th",ID:"id",VN:"vn",BR:"br",MX:"mx",CO:"co",CL:"cl",PL:"pl",AR:"xiapi",ES:"xiapi",FR:"xiapi",IN:"xiapi"},r),z=["/api/v2/item/get","/api/v4/item/get","/api/v4/pdp/get","/api/v4/pdp/get_pc","/api/v4/pdp/get_rw"],B=["/api/v4/search/search_facet","/api/v4/search/search_items","/api/v4/search/search_page_common","/api/v4/search/get_ymal_items","/api/v4/search/search_filter_config","/api/v4/search/search_mart_items","/api/v4/search/search_user"],N=["/api/v4/shop/get_shop_detail","/api/v4/shop/get_categories","/api/v4/shop/get_shop_tab","/api/v4/shop/rcmd_items","/api/v4/shop/get_shop_base","/api/v4/shop/get_shop_seo","/api/v4/shop/get_products_tab_data","/api/v4/shop/get_membership_data","/api/v4/shop/get_campaign_preview","/api/v4/shop/get_top_products","/api/v4/shop/get_shop_seller_show","/api/v4/shop/get_shop_seller_info","/api/v4/shop/is_show","/api/v4/shop/get_shop_by_user","/api/v4/shop/get_follow_prize_campaign","/api/v4/shop/get_shop_base_preview","/api/v4/shop/search_items","/api/v4/shop/get_shop_core_info","/api/v4/shop/get_popup_data","/api/v4/shop/get_campaign_tab_data","/api/v4/shop/block_user","/api/v4/shop/get_scp_list","/api/v4/shop/get_shop_tab_preview","/api/v4/shop/unfollow","/api/v4/shop/follow"],q=Object.freeze({REQUEST_TIMEOUT:-99,FE_SERVER_ERROR:-999,SERVER_ERROR:10005,t:90309999});(s=o||(o={}))[s.Captcha=1]="Captcha",s[s.ForceLogin=2]="ForceLogin",s[s.Redirect=5]="Redirect",s[s.FORCE_DOWNLOAD_APP=8]="FORCE_DOWNLOAD_APP",s[s.FORCE_BIND_PHONE=9]="FORCE_BIND_PHONE",s[s.VERIFY_PHONE=10]="VERIFY_PHONE",(l=c||(c={}))[l.Block=2]="Block",l[l.Challenge=3]="Challenge",(u=p||(p={}))[u.Level1=1]="Level1",u[u.Level2=2]="Level2",u[u.Level3=3]="Level3",(h=d||(d={})).External="1",h.Internal="2",(v=f||(f={})).ShopeeInternal="1",v.ShopeeApp="2",(g=m||(m={}))[g.AntiCrawler=0]="AntiCrawler",g[g.Dfp=1]="Dfp",(_=y||(y={})).Request="request",_.Success="success",_.Timeout="timeout",_.Failed="failed",(b=w||(w={}))[b.PC=0]="PC",b[b.RW=1]="RW",b[b.SHOPEELIVE=2]="SHOPEELIVE",b[b.BANK=3]="BANK",(k=R||(R={})).FORCEAPP="1",k.BINDPHONE="2",k.VERIFYPHONE="3";var j,X,V=!("undefined"==typeof window||!window.document||!window.document.createElement),W=/beeshop|shopee/i,J=/shopee.*app_type=2(\s|$)/i,K=/shopee-food-driver/i,Y=/shopee-express-driver/i,$=/shopeepay|airpay/i,G=/mitra/i,Q=/seatalk/i,Z=/shopee-toc-acc-sdk/i,ee=/now/i,te=/spinjam.*app_type=20(\s|$)/i;(X=j||(j={}))[X.Shopee=1]="Shopee",X[X.ShopeeFoodDriver=2]="ShopeeFoodDriver",X[X.ShopeePartner=3]="ShopeePartner",X[X.ShopeeExpressDriver=4]="ShopeeExpressDriver",X[X.ShopeePay=5]="ShopeePay",X[X.Mitra=6]="Mitra",X[X.SeaTalk=7]="SeaTalk",X[X.ShopeeAccountSdk=8]="ShopeeAccountSdk",X[X.ShopeeFoodBuyer=11]="ShopeeFoodBuyer",X[X.SPinjam=12]="SPinjam";var ie=function(){return void 0!==function(e){if(void 0===e&&(e=function(){if(V)return window.navigator.userAgent}()),void 0!==e)return K.test(e)?j.ShopeeFoodDriver:J.test(e)?j.ShopeePartner:Y.test(e)?j.ShopeeExpressDriver:G.test(e)?j.Mitra:Q.test(e)?j.SeaTalk:Z.test(e)?j.ShopeeAccountSdk:ee.test(e)?j.ShopeeFoodBuyer:$.test(e)?j.ShopeePay:W.test(e)?j.Shopee:te.test(e)?j.SPinjam:void 0}()};function re(e,t){var i=he,r=i();return!i.$U&&(i.$U=[]),re=function(t,n){t-=0;var a=i.$U[t];return a||(void 0===re.$L&&(re.$G=function(e){for(var t,i,r="",n="",a=0,o=0;i=e.charAt(o++);~i&&(t=a%4?64*t+i:i,a++%4)?r+=String.fromCharCode(255&t>>(-2*a&6)):0)i="spqjgmywhdrunebctzailkovxfUMRFGDEYNSKXTAVOWQHZJCBLPI3150672894+/=".indexOf(i);for(var s=0,c=r.length;s<c;s++)n+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,re.$L=!0),a=re.$G(r[t]),i.$U[t]=a),a},re(e,t)}function ne(e,t){var i=function(e,t){if(void 0===t&&(t=!1),!e)return"";var i=Object.keys(e).filter((function(t){return null!=e[t]}));return i.length?(t?"":"?")+i.sort().map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"):""}(t);if(!i.substring(1))return e;var r=e.split("#"),n=r[0],a=r[1];return n=n.indexOf("?")>-1?n+"&"+i.substring(1):""+n+i,a?n+"#"+a:n}var ae=[/^(seller\.)((xiapi|sg|th|vn|id|ph|br|my|tw|mx|co|cl|in|ar|pl|fr|es)\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.cn$/,/^(banhang\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.vn$/,/^(seller\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.(co\.(id|th)|com\.(ar|br|co|mx|my)|cl|es|fr|in|ph|pl|sg|tw)$/];function oe(e){if(!e)return!1;try{var t=new URL(e).hostname;return ae.some((function(e){return e.test(t)}))}catch(e){return!1}}function se(){return self.__ENV__}function ce(){return self.__LOCALE__}var le,pe=((le={}).malls={SG:"shopee.sg",TW:"shopee.tw",MY:"shopee.com.my",PH:"shopee.ph",TH:"shopee.co.th",ID:"shopee.co.id",VN:"shopee.vn",BR:"shopee.com.br",MX:"shopee.com.mx",CO:"shopee.com.co",CL:"shopee.cl",AR:"shopee.com.ar",FR:"shopee.fr",PL:"shopee.pl",ES:"shopee.es",IN:"shopee.in"},le.envs={test:"test.",stable:"test-stable.",staging:"staging.",liveish:"live-test.",live:"",uat:"uat."},le);function ue(e){var t=e.env,i=e.locale;return"https://"+pe.envs[t]+pe.malls[i]}var de=/web_sdk_host=snack/i;function he(){return["Uo7OFmeXx0kPUvz7l5zQ","My4YfmeXx0kPUvz7l5zQ","FwdOf5FXRKmJFyXjRTm0MykPt0kIFy4ZUvOXfgkPRT4PlymAft","FwdOf5FXRKmJFyXjRTm0MykPzT4Px5knM5FOME","FwdOf5FXRKmJFyXjRTm0MykPkTkPUofOx5m3Uo4J","R5YCFoLKk5mOFgfCRKzTRgXJUvt","xo73UlfPxvkKt54JfTXA","f5k3k5kNzyk5UoeXzTXJf5kPRwdOMAt"]}function fe(e){var t=e.isRelative,i=e.host;return ne(""+(t?"":i)+e.path,e.params)}function ve(e){var t,i,r,n,a,o,s=e.history,c=e.redirectType,l=e.shouldReplaceHistory,p=e.absoluteRedirectPath,u=e.relativeRedirectPath;c!==d.External&&s?l?s.replace(u):ie()?null===(t=window)||void 0===t||null===(i=t.WebViewJavascriptBridge)||void 0===i||i.callHandler("navigate",((a={}).url=p,a.popSelf=0,a.navbar={},a)):s.push(u):l?location.replace(p):ie()?null===(r=window)||void 0===r||null===(n=r.WebViewJavascriptBridge)||void 0===n||n.callHandler("navigate",((o={}).url=p,o.popSelf=0,o.navbar={},o)):location.href=p}function me(e){var t=e.history,i=e.next,r=e.appKey,n=e.scene,a=void 0===n?"crawler_item":n,o=e.shouldReplaceHistory,s=void 0===o||o,c=e.clientId,l=e.redirectType,p=void 0===l?d.External:l,u=e.verificationPageHost,h=void 0===u?location.origin:u,f=e.antiBotTrackingId,v=e.setRedirecting;p!==d.External&&t||v&&v();var m,g,y,_=(0,C.A)({is_initial:!0,app_key:r,scene:a,client_id:c,redirect_type:p,next:i,should_replace_history:s,anti_bot_tracking_id:f},i.includes("__mobile__")||ie()?{__mobile__:1}:{});ve(((y={}).history=t,y.redirectType=p,y.shouldReplaceHistory=s,y.absoluteRedirectPath=fe(((g={isRelative:!1}).host=h,g.path=F,g.params=_,g)),y.relativeRedirectPath=fe(((m={isRelative:!0}).host=h,m.path=F,m.params=_,m)),y))}function ge(e){var t,i,r,n,a,o,s=e.history,c=e.trackingId,l=e.shouldReplaceHistory,p=void 0===l||l,u=e.redirectType,h=void 0===u?d.External:u,f=e.verificationPageHost,v=void 0===f?location.origin:f,m=e.homeUrl,g=e.isLoggedIn,y=void 0===g||g,_=e.error_type,w=(0,C.A)({tracking_id:c,is_logged_in:y,home_url:m||location.origin},_?((r={}).type=_,r):{},_===R.BINDPHONE||_===R.VERIFYPHONE?((i={}).next=location.href,i):{},location.origin.includes("xiapibuy")?((t={}).origin=location.origin,t):{},ie()?{__mobile__:1}:{});ve(((o={}).history=s,o.redirectType=h,o.shouldReplaceHistory=p,o.absoluteRedirectPath=fe(((a={isRelative:!1}).host=v,a.path=U,a.params=w,a)),o.relativeRedirectPath=fe(((n={isRelative:!0}).host=v,n.path=U,n.params=w,n)),o))}function ye(e){var t,i=e.history,r=e.next,n=e.redirectType,a=void 0===n?d.External:n,o=e.shouldReplaceHistory,s=void 0===o||o,c=e.verificationPageHost,l=void 0===c?location.origin:c,p=e.isFromGoogleAdsPDP,u=e.trackingId,h=(0,C.A)({next:r},r.includes("__mobile__")||ie()?{__mobile__:1}:{},p?((t={}).is_from_fu=(new Date).getTime(),t):{},{fu_tracking_id:u});if(function(){if(V){var e=window.navigator.userAgent;if(de.test(e))return!0}return!1}())window.SHPLSBridge&&(0,A.A)((0,x.A)().mark((function e(){return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.SHPLSBridge.checkLogin();case 2:if(e.t0=!e.sent,!e.t0){e.next=7;break}return e.next=6,window.SHPLSBridge.login();case 6:window.location.reload();case 7:case"end":return e.stop()}}),e)})))();else if(ie()){var f,v;null===(f=window)||void 0===f||null===(v=f.WebViewJavascriptBridge)||void 0===v||v.callHandler("login",((g={}).redirectPath=ne("main",((m={}).apprl=r,m)),g.redirectTab=1,g),(function(e){0===(null==e?void 0:e.error)&&location.replace(r)}))}else{var m,g;if(location.origin.includes("xiapibuy")){var y=window.location.origin+"/api/seller_platform/nonce/callback/",_=window.btoa(JSON.stringify(((P={}).next=window.location.href,P))),w=se();ve(((H={}).history=i,H.redirectType=d.External,H.shouldReplaceHistory=s,H.absoluteRedirectPath=fe(((k={isRelative:!1}).host="https://account.seller."+(M.env[w]||"")+"shopee.com",k.path="/signin/oauth/identifier",k.params=((R={account_type:2}).client_id=D[w]||D.live,R.require_passwd=!0,R.login_types="[1,2,3,4,5]",R.redirect_uri=y,R.region=ce(),R.response_type="tob_nonce",R.scope="profile",R.state=_,R),k)),H.relativeRedirectPath=fe(((b={isRelative:!0}).host=l,b.path=O,b.params=h,b)),H))}else{var b,R,k,H,P,S,E,T;ve(((T={}).history=i,T.redirectType=a,T.shouldReplaceHistory=s,T.absoluteRedirectPath=fe(((E={isRelative:!1}).host=l,E.path=O,E.params=h,E)),T.relativeRedirectPath=fe(((S={isRelative:!0}).host=l,S.path=O,S.params=h,S)),T))}}}function _e(e,t){return new Promise((function(i,r){setTimeout((function(){try{i(t())}catch(e){r(e)}}),e)}))}var we="1.12.19",be=function(e){var t,i,r,n;!oe(window.location.href)&&(null===(t=window)||void 0===t||null===(i=t.Sentry)||void 0===i||i.captureException(e,((n={}).tags=((r={sentryProjectSlug:"shopee-secure-fetch-utils"}).sfuVersion=""+we,r),n)))};function Re(e){var t,i,r,n,a,s,l,p,u,h,f,v,m,g,y=e.antiCrawlerConfig,_=e.response,b=e.pathname,k=e.platform,x=e.source,A=e.setRedirecting,C=e.getRedirecting,H=e.triggerAntiCrawlerCustomizedErrorPage,P=e.triggerAntiCrawlerForceLogin,S=e.triggerAntiCrawlerVerification,E=e.enablePopup;if(_&&y){var T,U,O,I,L,D,z,B,N,j,X,W,J;if(_[3]?(z=(L=_)[4],B=L[0],N=L[1],W=L[2],X=L[3],j=null===(T=D=L[6])||void 0===T?void 0:T[0],J=null===(U=D)||void 0===U?void 0:U[1]):(z=(L=_).challenge_type,B=L.action_type,N=L.tracking_id,W=L.is_login,X=L.error,j=null===(O=L.captcha_extra_info)||void 0===O?void 0:O.tracking_id,J=null===(I=L.captcha)||void 0===I?void 0:I.business),X!==q.t)return;if(location.href.includes("/verify/traffic")||location.href.includes("/verify/captcha"))return;if(C&&A&&C())return;if(B===c.Block){var K=k===w.SHOPEELIVE?location.origin+"/pc/setup":y.homeUrl;return void H((g={},g.trackingId=N||"",g.shouldReplaceHistory=y.shouldReplaceHistory,g.redirectType=y.redirectType,g.isLoggedIn=W,g.verificationPageHost=y.verificationPageHost,g.homeUrl=K,g))}if(z===o.Captcha){var Y=k==w.PC||k==w.RW?(J||"TSS")+"."+w[k]:x?(J||"TSS")+"."+x:y.appKey;if(!Y)return;return void(E&&y.usePopupCaptcha?function(e){var t,i,r=e.appKey,n=e.scene,a=void 0===n?"crawler_item":n,o=e.clientId,s=e.shouldReplaceHistory,c=e.antiBotTrackingId,l=e.verificationPageHost;if(V){if(document.querySelector("#sfu-captcha-modal"))return;var p=document.createElement("div");p.setAttribute("id","sfu-captcha-modal"),p.classList.add("sfu-captcha-modal"),p.classList.add("open");var u=document.createElement("div");u.classList.add("sfu-captcha-modal-body"),p.appendChild(u);var h=document.createElement("iframe"),f=((i={is_initial:!0}).app_key=r,i.scene=a,i.client_id=o,i.redirect_type=d.Internal,i.use_popup=!0,i.should_replace_history=s,i.anti_bot_tracking_id=c,i.__mobile__="1",i),v=fe(((t={isRelative:!1}).host=l||window.location.protocol+"//"+window.location.host,t.path=F,t.params=f,t));h.setAttribute("src",v),h.setAttribute("name","sfu-captcha-modal-iframe"),h.style.width="100%",h.style.height="100%",u.appendChild(h),document.body.appendChild(p),document.body.classList.add("sfu-captcha-modal-open");var m=document.createElement("script");m.setAttribute("type","text/javascript");var g=document.createTextNode("\n    function closeSFUCaptchaModal() {\n        var sfuCaptchaModal = document.querySelector('#sfu-captcha-modal');\n        if(sfuCaptchaModal){\n          sfuCaptchaModal.remove();\n        }\n        document.body.classList.remove('sfu-captcha-modal-open');\n    }\n    ");m.appendChild(g);var y=document.createElement("style");y.setAttribute("type","text/css");var _=document.createTextNode("\n    .sfu-captcha-modal {\n        display: none;\n        position: fixed; \n        inset: 0;\n        background-color: rgba(0, 0, 0, .75);\n        z-index: 100000;\n        overflow: auto;\n    }\n    .sfu-captcha-modal.open {\n        display: flex;\n    }\n    .sfu-captcha-modal-body {\n        width: 80vw;\n        max-width: 500px;\n        min-width:  400px;\n        height: 550px;\n        margin: auto; \n        background: #fff;\n    }\n    .sfu-captcha-modal iframe {\n      box-sizing: border-box;\n    }\n    body.sfu-captcha-modal-open {\n        overflow: hidden;\n    }");y.appendChild(_),document.getElementsByTagName("head")[0].appendChild(y),document.getElementsByTagName("head")[0].appendChild(m)}}((m={},m.clientId=y.captchaClientId||"",m.next=y.next||location.href,m.appKey=Y,m.scene="crawler_item",m.redirectType=y.redirectType,m.shouldReplaceHistory=y.shouldReplaceHistory,m.verificationPageHost=y.verificationPageHost,m.antiBotTrackingId=j,m)):S((v={},v.clientId=y.captchaClientId||"",v.next=y.next||location.href,v.appKey=Y,v.scene="crawler_item",v.redirectType=y.redirectType,v.shouldReplaceHistory=y.shouldReplaceHistory,v.verificationPageHost=y.verificationPageHost,v.antiBotTrackingId=j,v.setRedirecting=A,v)))}if(z===o.Redirect){var $=se(),G=ce();if($&&G){var Q="https://"+(M.cid[G]||"xiapi")+"."+(M.env[$]||"")+"xiapibuy.com";location.replace(Q)}return}if(z===o.ForceLogin){var Z,ee;if(location.href.includes("/buyer/login")||location.href.includes("/buyer/authenticate"))return;var te=location.pathname.startsWith("/product")&&location.href.includes("gads_t_sig");te&&(k===w.PC||k===w.RW)&&(window.BITrack?window.BITrack(((f={}).data=((h={type:"v3"}).timestamp=(new Date).getTime(),h.info=((u={operation:"action_sfu_handle"}).data=((p={code:1}).scenario=JSON.stringify(((l={}).response=_,l.pathname=b,l)),p),u),h),f)):!oe(window.location.href)&&(null===(Z=window)||void 0===Z||null===(ee=Z.Sentry)||void 0===ee||ee.captureMessage("BITrack is not defined",((s={}).tags=((a={sentryProjectSlug:"shopee-secure-fetch-utils"}).sfuVersion=""+we,a),s)))),P(((n={}).next=y.next||location.href,n.redirectType=y.redirectType,n.shouldReplaceHistory=y.shouldReplaceHistory,n.verificationPageHost=y.verificationPageHost,n.isFromGoogleAdsPDP=te,n.trackingId=N||"",n))}if(z===o.FORCE_DOWNLOAD_APP)return void H((r={},r.trackingId=N||"",r.shouldReplaceHistory=y.shouldReplaceHistory,r.redirectType=y.redirectType,r.verificationPageHost=y.verificationPageHost,r.error_type=R.FORCEAPP,r));if(z===o.FORCE_BIND_PHONE)return void H((i={},i.trackingId=N||"",i.shouldReplaceHistory=y.shouldReplaceHistory,i.redirectType=y.redirectType,i.verificationPageHost=y.verificationPageHost,i.error_type=R.BINDPHONE,i));if(z===o.VERIFY_PHONE)return void H((t={},t.trackingId=N||"",t.shouldReplaceHistory=y.shouldReplaceHistory,t.redirectType=y.redirectType,t.verificationPageHost=y.verificationPageHost,t.error_type=R.VERIFYPHONE,t))}}var ke=function(e,t,i,r){if(!e.allowCors&&!i)return!1;if(r&&e.limitMethods&&!e.limitMethods.some((function(e){return e.toLowerCase()===r.toLowerCase()})))return!1;switch(e.match){case"contain":if(t.includes(e.policyurl))return!e.exclude||!e.exclude.some((function(e){return t.includes(e)}));break;case"regexp":if(e.policyurl.test(t))return!e.exclude||!e.exclude.some((function(e){return t.includes(e)}));break;case"full":if(e.policyurl===t)return!0}return!1},xe=function(e,t,i,r){for(var n=0;n<e.length;n++){var a=e[n];if(ke(a,t,i,r))return a}},Ae=function(){function e(e){void 0===e&&(e=20),this.items=[],this.maxSize=e}var t=e.prototype;return t.enqueue=function(e){this.size()>=this.maxSize&&(this.dequeue(),e instanceof Pe&&this.items[0].civid),this.items.push(e)},t.dequeue=function(){return this.isEmpty()?"Underflow":this.items.shift()},t.isEmpty=function(){return 0===this.items.length},t.size=function(){return this.items.length},t.getItems=function(){return this.items},e}(),Ce=function(){function e(e,t){this.key=e,this.timestamp=t}return e.prototype.serialize=function(){var e=new ArrayBuffer(6),t=new DataView(e);return t.setUint16(0,this.key),t.setUint32(2,this.timestamp),e},e}(),He=function(){function e(e,t,i){this.x=e,this.y=t,this.timestamp=i}return e.prototype.serialize=function(){var e=new ArrayBuffer(8),t=new DataView(e);return t.setUint16(0,this.x),t.setUint16(2,this.y),t.setUint32(4,this.timestamp),e},e}(),Pe=function(){function e(e,t,i,r,n,a,o,s,c,l,p){this.operation=e,this.timestamp=t,this.civid=i,this.page_type=r,this.page_section=n,this.target_type=a,this.last_civ_id=o,this.itemidl=s,this.itemidr=c,this.shopidl=l,this.shopidr=p}return e.prototype.serialize=function(e){var t=new ArrayBuffer(34),i=new DataView(t);i.setUint8(0,this.operation),i.setUint32(1,this.timestamp),i.setUint8(5,e.indexOf(this.civid));for(var r=0;r<this.page_type.length;r++)i.setUint8(6+r,this.page_type.charCodeAt(r));for(r=0;r<this.page_section.length;r++)i.setUint8(11+r,this.page_section.charCodeAt(r));return i.setUint8(16,this.target_type),i.setUint8(17,e.indexOf(this.last_civ_id)),i.setUint32(18,this.itemidl),i.setUint32(22,this.itemidr),i.setUint32(26,this.shopidl),i.setUint32(30,this.shopidr),t},e}(),Se=function(){function e(e,t,i,r,n,a,o,s){this.basetimestampl=e,this.basetimestampr=t,this.cividmaplen=i,this.eventlen=r,this.oribitlen=n,this.cividmap=a,this.currentTimeOffset=o,this.nonce=s}return e.prototype.serialize=function(){var e=this.cividmap.length,t=new ArrayBuffer(23+e),i=new DataView(t);i.setUint32(0,this.basetimestampl),i.setUint32(4,this.basetimestampr),i.setUint8(8,this.cividmaplen),i.setUint8(9,this.eventlen),i.setUint8(10,this.oribitlen);for(var r=0;r<e;r++)i.setUint8(11+r,this.cividmap.charCodeAt(r));for(i.setUint32(11+e,this.currentTimeOffset),r=0;r<8;r++)i.setUint8(15+e+r,this.nonce[r]);return t},e}(),Ee=new Ae(20),Te=new Ae(21),Fe=new Ae(5),Ue=new Ae(5),Oe={view:1,auto_view:2,click:3,impression:4,other:5},Ie={item:1,shop:2,voucher:3,banner:4,category:5,skinny_banner:6,cluster:7,tab:8,other:9};function Le(){try{var e=void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart,t=Math.floor(performance.now());e<Math.pow(10,10)&&(e*=1e3);var i=Math.floor(e/Math.pow(10,9)),r=Math.floor(e%Math.pow(10,9)),n=[];Ee.getItems().map((function(e){n.includes(e.civid)||""===e.civid||n.push(e.civid),n.includes(e.last_civ_id)||""===e.last_civ_id||n.push(e.last_civ_id)})),Fe.getItems().map((function(e){n.includes(e.civid)||""===e.civid||n.push(e.civid),n.includes(e.last_civ_id)||""===e.last_civ_id||n.push(e.last_civ_id)}));var a=function(e){void 0===e&&(e=8);for(var t=new Uint8Array(e),i=0;i<e;i++)t[i]=Math.floor(256*Math.random());return t}(),o=new Se(i,r,n.length,Ee.size()+Fe.size(),Te.size(),n.join(""),t,a),s=23+o.cividmap.length+34*(Ee.size()+Fe.size())+8*Te.size()+6*Ue.size(),c=new ArrayBuffer(s),l=new Uint8Array(c);l.set(new Uint8Array(o.serialize()),0);var p=23+o.cividmap.length;Ee.getItems().map((function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize(n)),p),p+=34)})),Fe.getItems().map((function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize(n)),p),p+=34)})),Te.getItems().map((function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize()),p),p+=8)})),Ue.getItems().map((function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize()),p),p+=6)}));for(var u=btoa(String.fromCharCode.apply(null,Array.from(l))),d="",h=1,f=0;f<u.length;f++)u[f]===u[f+1]?h++:(d+=h>=5?"A|"+h+"|":u[f].repeat(h),h=1);return d}catch(e){return be(e),"error"}}function De(e){var t,r=e.locale,n=e.env,a=e.platform,o=e.source,s=e.ACConfig,c=e.performanceTrackings,l=void 0===c?L:c,p=e.enableGlobalHook,u=e.enableTMS,h=e.enablePopup,f=e.policies,v=e.onError,g=void 0===v?function(){}:v,y=null,_=null,b=null,R=null,k=null,F=null,U=!1;function O(){U=!0}function I(){return U}function D(e){(a===w.PC||a===w.RW)&&be(e)}function M(e){return q.apply(this,arguments)}function q(){return q=(0,A.A)((0,x.A)().mark((function e(t){var o,s,c,p,u,d,h,f,v,g;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.history,s=t.onFail,c=void 0===s?function(){}:s,f=re,a===w.BANK||(o&&(F=o),null!=_||null!=b||!V)){e.next=21;break}return e.prev=3,l[f(0)].onInit(),l[f(1)].onInit(),_=(0,A.A)((0,x.A)().mark((function e(){return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.e(6476).then(i.bind(i,63895)));case 1:case"end":return e.stop()}}),e)})))(),e.next=9,_;case 9:y=e.sent,l[f(1)].onComplete(),(r||n)&&(y.default?y.default.setSdkConfig((0,C.A)({},r?((h={}).region=r,h):{},n?((d={}).env=n,d):{})):y.setSdkConfig((0,C.A)({},r?((u={}).region=r,u):{},n?((p={}).env=n,p):{}))),b=y.default?y.default.initSdk(m.Dfp):y.initSdk(m.Dfp),R=_e(5e3,(function(){return{timeout:!0}})),k=_e(1e3,(function(){return{timeout:!0}})),l[f(0)].onComplete(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),D(e.t0),null!==(v=(g=l[f(0)]).onFail)&&void 0!==v&&v.call(g),c();case 21:case"end":return e.stop()}}),e,null,[[3,18]])}))),q.apply(this,arguments)}function j(){var e,t=function(e){for(var t="",i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}(function(){for(var e=new Uint8Array(8),t=0;t<8;t++)e[t]=Math.floor(256*Math.random());return e}());return(e={})["af-ac-enc-dat"]=t,e}function X(e){return W.apply(this,arguments)}function W(){return W=(0,A.A)((0,x.A)().mark((function e(t){var i,r;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(void 0===t?{}:t).shouldWaitForDfpInit,r=void 0!==i&&i,e.prev=1,e.next=4,_;case 4:return e.next=6,Promise.race([b,r?R:k]);case 6:return e.abrupt("return",y.default?y.default.getClientCheckData():y.getClientCheckData());case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",(D(e.t0),g(e.t0),""));case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),W.apply(this,arguments)}function J(){return J=(0,A.A)((0,x.A)().mark((function e(t){var i,r,n,a,o,s,c,l;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.shouldWaitForDfpInit,r=void 0!==i&&i,n=t.useHeader,a=t.customDfp,e.prev=1,e.next=4,_;case 4:return e.next=6,Promise.race([b,r?R:k]);case 6:if("string"!=typeof a){e.next=10;break}e.t0=a,e.next=13;break;case 10:return e.next=12,X(((l={})[re(5)]=r,l));case 12:e.t0=e.sent;case 13:return o=e.t0,e.abrupt("return",n?o.length>=300?{}:((c={})[P]=o,c):((s={})[H]=o,s));case 17:return e.prev=17,e.t1=e.catch(1),e.abrupt("return",(D(e.t1),g(e.t1),{}));case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),J.apply(this,arguments)}function K(){return""+we}function Y(){return $.apply(this,arguments)}function $(){return $=(0,A.A)((0,x.A)().mark((function e(){var t;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_;case 3:return t=y.default?y.default.getDegradedData():y.getDegradedData(),e.abrupt("return",t&&"string"==typeof t?[].concat(t).some((function(e){return e.charCodeAt(0)>127}))?"":t:"");case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(D(e.t0),""));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),$.apply(this,arguments)}function G(){return G=(0,A.A)((0,x.A)().mark((function e(){var t;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_;case 3:if(!y.default){e.next=9;break}return e.next=6,y.default.getLongToken();case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,y.getLongToken();case 11:e.t0=e.sent;case 12:return t=e.t0,e.abrupt("return",t&&"string"==typeof t?t:"");case 16:return e.prev=16,e.t1=e.catch(0),e.abrupt("return",(D(e.t1),""));case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),G.apply(this,arguments)}return function(){if(V&&p&&!window.__fu_hook){window.__fu_hook=!0,u&&function(){try{document.addEventListener("keydown",(function(e){try{var t,i=performance.now();if(void 0!==e.key&&null!==e.key)1==e.key.length?t=new Ce(e.key.charCodeAt(0),i):e.key.length>1&&(t=new Ce(e.key.charCodeAt(0)<<8|e.key.charCodeAt(e.key.length-1),i)),Ue.enqueue(t);else if(void 0!==e.keyCode){var r=new Ce(e.keyCode,i);Ue.enqueue(r)}}catch(e){return be(e),"error"}})),navigator.maxTouchPoints>0?(document.addEventListener("touchmove",(function(e){try{if(void 0!==e.touches&&null!==e.touches){var t=void 0;if(e.touches.length>0?t=e.touches:e.changedTouches.length>0&&(t=e.changedTouches),void 0!==t){var i=performance.now(),r=new He(t[0].clientX+1e4,t[0].clientY,i);Te.enqueue(r)}}}catch(e){return be(e),"error"}})),document.addEventListener("touchend",(function(e){try{if(void 0!==e.touches&&null!==e.touches){var t=void 0;if(e.touches.length>0?t=e.touches:e.changedTouches.length>0&&(t=e.changedTouches),void 0!==t){var i=performance.now(),r=new He(t[0].clientX+1e4,t[0].clientY,i);Te.enqueue(r)}}}catch(e){return be(e),"error"}}))):(document.addEventListener("mousemove",(function(e){try{var t=performance.now(),i=new He(e.clientX,e.clientY,t);Te.enqueue(i)}catch(e){return be(e),"error"}})),document.addEventListener("click",(function(e){try{var t=performance.now(),i=new He(e.clientX+1e4,e.clientY,t);Te.enqueue(i)}catch(e){return be(e),"error"}})))}catch(e){be(e)}if("function"==typeof window.IDBObjectStore){var e=IDBObjectStore.prototype.add;try{IDBObjectStore.prototype.add=function(t,i){try{if("object"==typeof t&&null!==t&&null!==t.data&&void 0!==t.data){var r=JSON.parse(t.data);if(null!==r.operation&&void 0!==r.operation){var n=-1!==Oe[r.operation]?Oe[r.operation]:0,a=r.event_timestamp-(void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart),o=r.civ_id.replaceAll("-",""),s=r.page_type.slice(0,5),c=r.page_section.slice(0,5),l=0;""!=r.target_type&&null!==r.target_type&&(l=Ie[r.target_type]?Ie[r.target_type]:9);var p="";null!==r.last_civ_id&&void 0!==r.last_civ_id&&(p=r.last_civ_id.replaceAll("-",""));var u=0,d=0;if(null!==r.data&&void 0!==r.data){var h=r.data;if(null!==h.viewed_objects&&void 0!==h.viewed_objects&&h.viewed_objects.length>0){var f=h.viewed_objects[0];null!=f&&(null!==f.ctx_itemid&&void 0!==f.ctx_itemid&&(u=f.ctx_itemid),null!==f.itemid&&void 0!==f.itemid&&(u=f.itemid),null!==f.item_id&&void 0!==f.item_id&&(u=f.item_id),null!==f.ctx_shopid&&void 0!==f.ctx_shopid&&(d=f.ctx_shopid),null!==f.shopid&&void 0!==f.shopid&&(d=f.shopid),null!==f.shop_id&&void 0!==f.shop_id&&(d=f.shop_id))}}var v=Math.floor(u/Math.pow(10,9)),m=u%Math.pow(10,9),g=Math.floor(d/Math.pow(10,9)),y=d%Math.pow(10,9);3==n?Fe.enqueue(new Pe(n,a,o,s,c,l,p,v,m,g,y)):Ee.enqueue(new Pe(n,a,o,s,c,l,p,v,m,g,y))}}}catch(e){be(e)}return e.call(this,t,i)}}catch(e){be(e)}}}();var e=window.fetch;window.fetch=(0,A.A)((0,x.A)().mark((function t(){var i,c,p,v,m,g,y,_,b,R,k,A,H,P,U,L,q,X,V,W,J,$,G,Q,Z,ee,te,ie,ne,ae,oe,se,ce,le,pe,de,he,fe=arguments;return(0,x.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=fe.length,c=new Array(i),p=0;p<i;p++)c[p]=fe[p];if(R=c[0],k=c[1],t.prev=2,L=(U=window.Request&&R instanceof Request?new URL(R.url,window.location.origin):new URL(R.toString(),window.location.origin)).origin===window.location.origin,q=U.pathname.replace(/\/+$/,""),X=null===(A=k)||void 0===A||null===(H=A.method)||void 0===H?void 0:H.toLowerCase(),V=performance.now(),J=!1,!(W=!1)&&null!==(P=k)&&void 0!==P&&P.anticrawler&&(W=!0),u&&(z.some((function(e){return q===e}))||B.some((function(e){return q===e}))||N.some((function(e){return q===e})))&&(J=!0),!W&&f&&Array.isArray(f)&&f.length>0&&(W=Boolean(xe(f,q,L,X))),!W){t.next=15;break}return l.hookFUFetch.onInit(),M({}),Z=K(),t.next=9,Y();case 9:ee=t.sent,te=j(),window.Request&&R instanceof Request?(R.headers.set(E,Z),R.headers.set(S,ee),Object.entries(te).forEach((function(e){var t=e[0],i=e[1];R.headers.set(t,i)})),J&&(ie=Le(),R.headers.set(T,ie))):k?Array.isArray(k.headers)?(k.headers.push([E,Z]),k.headers.push([S,ee]),Object.entries(te).forEach((function(e){var t,i=e[0],r=e[1];(null===(t=k)||void 0===t?void 0:t.headers).push([i,r])})),J&&(ne=Le(),k.headers.push([T,ne]))):k.headers=(0,C.A)({},k.headers,te,(($={})[S]=ee,$[E]=Z,$),J?((b={})[T]=Le(),b):{}):((_={}).headers=(0,C.A)({},te,((G={})[S]=ee,G[E]=Z,G),J?((y={})[T]=Le(),y):{}),k=_),(a===w.PC||a===w.RW)&&(!window.__SFUC&&(window.__SFUC=0),window.__SFUC++),ae=performance.now(),oe=Math.floor(ae-V),(null===(Q=k)||void 0===Q||!Q.anticrawler)&&l.hookFUFetch.onComplete(oe);case 15:return t.next=17,e(R,k);case 17:if((se=t.sent)&&se.ok){t.next=20;break}return t.abrupt("return",se);case 20:if(t.prev=20,ce=se.status,!(W&&ce>=200&&ce<300&&204!==ce)){t.next=32;break}if(!(le=se.headers.get("content-type"))||!le.includes("application/json")){t.next=32;break}return t.next=27,se.clone().json();case 27:if((de=t.sent)&&"object"==typeof de&&!Array.isArray(de)){t.next=30;break}return t.abrupt("return",se);case 30:he=null!==(pe=k)&&void 0!==pe&&pe.anticrawler?k.anticrawler:null==s?void 0:s[q],Re((m=re,(g={}).antiCrawlerConfig=(0,C.A)({redirectType:a==w.PC||a==w.RW?d.Internal:d.External,verificationPageHost:a==w.PC||a==w.RW?location.origin:ue((v={},v.env=n||"live",v.locale=r||"SG",v))},he,{shouldReplaceHistory:!1!==(null==he?void 0:he.shouldReplaceHistory)&&"false"!==(null==he?void 0:he.shouldReplaceHistory)}),g.response=de,g.pathname=q,g.platform=a,g.source=o,g.setRedirecting=O,g.getRedirecting=I,g[m(2)]=function(e){return ge((0,C.A)({},e,{history:F}))},g[m(3)]=function(e){return ye((0,C.A)({},e,{history:F}))},g[m(4)]=function(e){return me((0,C.A)({},e,{history:F}))},g.enablePopup=h,g));case 32:return t.abrupt("return",se);case 35:return t.prev=35,t.t0=t.catch(20),t.abrupt("return",(D(t.t0),se));case 38:t.next=43;break;case 40:return t.prev=40,t.t1=t.catch(2),t.abrupt("return",(D(t.t1),e.apply(void 0,c)));case 43:case"end":return t.stop()}}),t,null,[[2,40],[20,35]])})));var t=XMLHttpRequest.prototype.open,i=XMLHttpRequest.prototype.setRequestHeader,c=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];this.openargs=i,this.headers={},t.apply(this,i)},XMLHttpRequest.prototype.setRequestHeader=function(e,t){this.headers[e]=t,i.call(this,e,t)},XMLHttpRequest.prototype.send=function(){var e=(0,A.A)((0,x.A)().mark((function e(t){var i,p,v,m,g,y,_,b,R,k,A,H,P,U,L,q=this;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i="",p=!1,v=!1,!this.openargs){e.next=19;break}if(m=new URL(this.openargs[1].toString(),window.location.origin),g=m.origin===window.location.origin,i=m.pathname.replace(/\/+$/,""),y=this.openargs[0].toLowerCase(),_=performance.now(),f&&Array.isArray(f)&&f.length>0&&(p=Boolean(xe(f,i,g,y))),u&&(z.some((function(e){return i===e}))||B.some((function(e){return i===e}))||N.some((function(e){return i===e})))&&(v=!0),!p){e.next=19;break}for(k in l.hookFUXhr.onInit(),M({}),b=K(),!this.headers[E]&&this.setRequestHeader(E,b),R=j())!this.headers[k]&&this.setRequestHeader(k,R[k]);return e.next=14,Y();case 14:A=e.sent,!this.headers[S]&&this.setRequestHeader(S,A),v&&(H=Le(),!this.headers[T]&&this.setRequestHeader(T,H)),(a===w.PC||a===w.RW)&&(!window.__SFUC&&(window.__SFUC=0),window.__SFUC++),P=performance.now(),U=Math.floor(P-_),l.hookFUXhr.onComplete(U);case 19:L=this.onreadystatechange,this.onreadystatechange=function(){if(q.readyState===XMLHttpRequest.DONE)try{if(p&&q.status>=200&&q.status<300&&204!==q.status){var e=q.getResponseHeader("Content-Type");if(e&&!e.includes("application/json"))return;var t=q.responseType;if("blob"==t||"arraybuffer"==t||"document"==t)return;var c=t&&"text"!==t&&q.response?q.response:JSON.parse(q.responseText),l=null==s?void 0:s[i];Re((f=re,(v={}).antiCrawlerConfig=(0,C.A)({redirectType:a==w.PC||a==w.RW?d.Internal:d.External,verificationPageHost:a==w.PC||a==w.RW?location.origin:ue((u={},u.env=n||"live",u.locale=r||"SG",u))},l,{shouldReplaceHistory:"false"!==(null==l?void 0:l.shouldReplaceHistory)}),v.response=c,v.pathname=i,v.source=o,v.platform=a,v.setRedirecting=O,v.getRedirecting=I,v[f(2)]=function(e){return ge((0,C.A)({},e,{history:F}))},v[f(3)]=function(e){return ye((0,C.A)({},e,{history:F}))},v[f(4)]=function(e){return me((0,C.A)({},e,{history:F}))},v.enablePopup=h,v))}}catch(r){D(r)}for(var u,f,v,m=arguments.length,g=new Array(m),y=0;y<m;y++)g[y]=arguments[y];null==L||L.apply(q,g)},e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),D(e.t0);case 26:return e.prev=26,c.call(this,t),e.finish(26);case 29:case"end":return e.stop()}}),e,this,[[0,23,26,29]])})));return function(t){return e.apply(this,arguments)}}()}}(),(t={}).i=M,t.o=K,t.l=Y,t.p=function(){return G.apply(this,arguments)},t.u=j,t.h=function(e){return me((0,C.A)({},e,{history:F}))},t.v=function(e){return ge((0,C.A)({},e,{history:F}))},t.m=function(e){return ye((0,C.A)({},e,{history:F}))},t._=X,t.R=function(e){return J.apply(this,arguments)},t.getRedirecting=I,t.setRedirecting=O,t.ACConfig=s,t}var Me,ze,Be,Ne,qe,je,Xe,Ve,We,Je,Ke,Ye,$e,Ge,Qe,Ze,et,tt,it,rt,nt,at,ot,st,ct,lt,pt,ut,dt,ht,ft,vt,mt,gt,yt,_t,wt,bt,Rt,kt=((ze={})["/webapi/v1/shop_page/replay/add"]={shouldReplaceHistory:"false"},ze["/webapi/v1/host_config/permission"]={shouldReplaceHistory:"false"},ze["/webapi/v1/item/my_shop"]={shouldReplaceHistory:"false"},ze["/webapi/v1/item/my_likes"]={shouldReplaceHistory:"false"},ze["/webapi/v1/item/my_recent"]={shouldReplaceHistory:"false"},ze["/webapi/v1/item/parse_url"]={shouldReplaceHistory:"false"},ze),xt=((Me={})["/api/v4/microsite/get_items"]={shouldReplaceHistory:"false"},Me["/api/v4/market_coin/get_product_feeds"]={shouldReplaceHistory:"false"},Me["/api/v2/add_on_deal/info"]={shouldReplaceHistory:"false"},Me["/api/v2/add_on_deal/get_main_item_info"]={shouldReplaceHistory:"false"},Me["/api/v2/add_on_deal/get_add_on_deal_list"]={shouldReplaceHistory:"false"},Me["/api/v2/add_on_deal/get_sub_item_info"]={shouldReplaceHistory:"false"},Me["/api/v4/flash_sale/flash_sale_get_items"]={shouldReplaceHistory:"false"},Me["/api/v4/flash_sale/spm/get_all_itemids"]={shouldReplaceHistory:"false"},Me["/api/v4/pdp/other_quantities/get"]={shouldReplaceHistory:"false"},Me["/api/v4/product/get_shop_info"]={shouldReplaceHistory:"false"},Me["/api/v4/search/search_prefills"]={shouldReplaceHistory:"false"},Me["/api/v4/search/search_hint"]={shouldReplaceHistory:"false"},Me["/api/v4/search/trending_search"]={shouldReplaceHistory:"false"},Me),At=[(bt={policyurl:/api\/v3\/affiliateplatform\/.*/,match:"regexp"},bt),(wt={policyurl:/api\/pas\/v1\/setup_helper\/.*/,match:"regexp"},wt),(_t={policyurl:"api/selleradmin/v1/product",match:"contain"},_t),(yt={policyurl:"api/marketing/v4/review_prize/get_products",match:"contain"},yt),(gt={policyurl:"api/marketing/v4/discount/global/get_items",match:"contain"},gt),(mt={policyurl:"api/v3/settings/reply_shop_rating",match:"contain"},mt),(vt={policyurl:"api/marketing/v3/public/product_selector",match:"contain"},vt),(ft={policyurl:/webchat\/api\/v1\.2\/mini\/order\/.*/,match:"regexp"},ft),(ht={policyurl:/webchat\/api\/v1\.2\/order\/.*\/rate_buyer/,match:"regexp"},ht),(dt={policyurl:/webchat\/api\/v1\.2\/order\/.*\/cancel/,match:"regexp"},dt),(ut={policyurl:"webchat/api/v1.2/mini/orders/orders_by_buyer",match:"contain"},ut),(pt={policyurl:"webchat/api/v1.2/orders/orders_by_buyer",match:"contain"},pt),(lt={policyurl:"api/mkt/cmt/bidding/bidding_list",match:"contain"},lt),(ct={policyurl:"api/mkt/cmt/nominated/nominated_entity_list",match:"contain"},ct),(st={policyurl:"api/mkt/cmt/preview/preview_list",match:"contain"},st),(ot={policyurl:"api/mkt/cmt/product/online/selector/verify",match:"contain"},ot),(at={policyurl:"api/mkt/cmt/product/online/selector/verify_products_select_for_bid",match:"contain"},at),(nt={policyurl:"api/crm/v1/product_selector",match:"contain"},nt),(rt={policyurl:"api/marketing/v4/graphql/query",match:"contain"},rt),(it={policyurl:"api/marketing/v4/public/product_selector",match:"contain"},it),(tt={policyurl:"api/marketing/v4/shop_flash_sale/batch_items/get",match:"contain"},tt),(et={policyurl:"api/n/decoration/public/get_flash_sale_info",match:"contain"},et),(Ze={policyurl:"api/n/decoration/public/get_mega_campaign_items",match:"contain"},Ze),(Qe={policyurl:"api/marketing/v4/review_prize/get_recommend_products",match:"contain"},Qe),(Ge={policyurl:"api/marketing/v4/review_prize/get_svs_item_info",match:"contain"},Ge),($e={policyurl:"api/marketing/v4/review_prize/item/list",match:"contain"},$e),(Ye={policyurl:"api/marketing/v4/review_prize/product_selector",match:"contain"},Ye),(Ke={policyurl:"api/marketing/v3/voucher/product_selector",match:"contain"},Ke),(Je={policyurl:"api/v1/affiliateplatform/shop/itemsv2",match:"contain"},Je),(We={policyurl:"api/v3/affiliateplatform/gql",match:"contain"},We),(Ve={policyurl:"api/tool/mass_product/get_unpublished_product_list",match:"contain"},Ve),(Xe={policyurl:"api/v2/message",match:"contain",allowCors:!0},Xe),(je={policyurl:"api/v2/solution",match:"contain",allowCors:!0},je),(qe={policyurl:"api/v2/user_message_history",match:"contain",allowCors:!0},qe),(Ne={policyurl:"api/v2/init_session",match:"contain",allowCors:!0},Ne),(Be={policyurl:"api/v2/order_list",match:"contain",allowCors:!0},Be)];function Ct(e){var t,r,n,a,o,s=e.locale,c=e.env,l=e.platform,p=e.source,u=e.enableGlobalHook,d=e.enableTMS,h=e.baseUrl,f=void 0===h?"":h,v=e.shouldAppendHost,m=(e.allowShortDfp,e.headers),g=e.enablePopup,y=void 0!==g&&g,_=e.handleMaintenanceModeResponse,b=e.policies,R=e.performanceTrackings,k=void 0===R?L:R,S=e.onError,T=void 0===S?function(){}:S,F=e.onJsonResponse,U=void 0===F?function(){}:F,O=(n={},(r=l)==w.PC||r==w.RW?n=xt:r===w.SHOPEELIVE&&(n=kt),n),I=De(((t={}).locale=s,t.platform=l,t.source=p,t.policies=b,t.env=c,t.ACConfig=O,t.performanceTrackings=k,t.enableTMS=d,t.enableGlobalHook=u,t.enablePopup=y,t.onError=T,t)),D=I.i,M=I._,z=I.R,B=I.v,N=I.m,j=I.h,X=I.o,W=(I.l,I.p);function J(e,t,i){return K.apply(this,arguments)}function K(){return K=(0,A.A)((0,x.A)().mark((function e(t,r,n){var a,o,s,c,l,p,u,d,h,g;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=!V&&!/^(https?:)?\/\//.test(t)||v?""+f+t:t,o=null!=r&&r.isFormData?n||new FormData:JSON.stringify(n),s=null!=r&&r.isFormData?void 0:{Accept:"application/json","Content-Type":"application/json"},e.next=6,(window.global=window,i.g&&i.g.fetch?i.g.fetch:fetch)(a,(0,C.A)({method:r&&r.method?r.method:"GET",headers:(0,C.A)({},s,null!=r&&r.overideCreateSFUHeaders?null==r?void 0:r.headers:(0,C.A)({},m,null==r?void 0:r.headers))},r&&!1===r.withCredentials?{}:{credentials:"include"},{body:o,signal:null==r?void 0:r.signal,anticrawler:null==r?void 0:r.antiCrawlerConfig}));case 6:if(c=e.sent,!((l=c.status)>=200&&l<300)){e.next=16;break}if(!(p=c.headers.get("content-type"))||p.includes("application/json")){e.next=12;break}return e.abrupt("return",c);case 12:return e.next=14,c.json();case 14:return u=e.sent,e.abrupt("return",(U(u,c),"object"!=typeof u||Array.isArray(u)?u:(0,C.A)({},u,{__raw:c})));case 16:return e.abrupt("return",408===l?((g={}).error=q.REQUEST_TIMEOUT,g.error_msg=l.toString(),g.__raw=c,g):(_&&_(c),(h={}).error=q.SERVER_ERROR,h.error_msg=null==l?void 0:l.toString(),h.__raw=c,h));case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",((d={}).error=q.SERVER_ERROR,d.error_msg=e.t0,d));case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),K.apply(this,arguments)}function Y(){return Y=(0,A.A)((0,x.A)().mark((function e(t,i){var r,n,a,o,s,c,l,p,u,d,h,f;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=re,a=(null==i?void 0:i[n(6)])||{},o=a.antiCrawler,s=a.apiProtection,(c=a.deviceFingerPrint)&&D({}),e.next=4,c?z(((u={useHeader:!0})[(p=re)(5)]=c[p(5)]||!1,u.customDfp=c.customDfp,u)):Promise.resolve({});case 4:return d=e.sent,h=null!=c&&c.dataFormatter?c.dataFormatter(d["sz-token"]||""):d,f=o?I.u():{},e.next=9,J(t,((l={method:"GET"}).headers=(0,C.A)({},null==i?void 0:i.headers,f,h,((r={})[E]=X(),r)),l.overideCreateSFUHeaders=null==i?void 0:i.overideCreateSFUHeaders,l.withCredentials=null==s?void 0:s.withCredentials,l.signal=null==i?void 0:i.signal,l.antiCrawlerConfig=o,l));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function $(){return $=(0,A.A)((0,x.A)().mark((function e(t,i,r){var n,a;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n=new FormData,i)n.append(a,i[a]);return e.abrupt("return",G(t,n,(0,C.A)({},r,{isFormData:!0})));case 3:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function G(e,t,i){return Q.apply(this,arguments)}function Q(){return Q=(0,A.A)((0,x.A)().mark((function e(t,i,r){var n,a,o,s,c,l,p,u,d,h,f,v,m,g;return(0,x.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=re,o=(null==r?void 0:r[a(6)])||{},s=o.antiCrawler,c=o.apiProtection,(l=o.deviceFingerPrint)&&D({}),!l){e.next=8;break}return e.next=5,z((d=re,(h={}).useHeader=null==l?void 0:l.useHeader,h[d(5)]=l[d(5)]||!1,h.customDfp=l.customDfp,h));case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0={};case 9:return f=e.t0,v=null!=l&&l.dataFormatter?l.dataFormatter(null!=l&&l.useHeader?f[P]||"":f[H]||""):f,m=null!=r&&r.isFormData||null!=l&&l.useHeader||(u=v)&&0===Object.keys(u).length&&Object.getPrototypeOf(u)===Object.prototype?i:(0,C.A)({},i,v),g=s?I.u():{},e.next=15,J(t,((p={method:"POST"}).headers=(0,C.A)({},null==r?void 0:r.headers,g,null!=l&&l.useHeader?v:{},((n={})[E]=X(),n)),p.isFormData=null==r?void 0:r.isFormData,p.overideCreateSFUHeaders=null==r?void 0:r.overideCreateSFUHeaders,p.withCredentials=null==c?void 0:c.withCredentials,p.signal=null==r?void 0:r.signal,p.antiCrawlerConfig=s,p),m);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}return a=re,(o={}).http=J,o.get=function(e,t){return Y.apply(this,arguments)},o.post=G,o.postForm=function(e,t,i){return $.apply(this,arguments)},o[a(0)]=function(e){var t;V&&I.i(((t={}).history=null==e?void 0:e.history,t))},o[a(4)]=j,o[a(2)]=B,o[a(3)]=N,o[a(7)]=M,o.getLongToken=W,o}[(Rt={policyurl:"api/mydata",match:"contain",exclude:["api/mydata/homepage/key-metrics"]},Rt)].concat(At)}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopeemobile.com/pcmall-static/_/sfu-latest.686c009ef253e5b6.legacy.js.map